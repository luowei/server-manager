# æœåŠ¡å™¨ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºFastAPIçš„Webåº”ç”¨ï¼Œæä¾›å±€åŸŸç½‘å”¤é†’(WOL)å’Œå®šæ—¶ä»»åŠ¡ç®¡ç†åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### WOLè®¾å¤‡ç®¡ç†
- æ”¯æŒé€šè¿‡hostnameã€IPåœ°å€æˆ–MACåœ°å€æ·»åŠ å”¤é†’è®¾å¤‡
- è®¾å¤‡ä¿¡æ¯çš„å¢åˆ æŸ¥æ”¹åŠŸèƒ½
- å®æ—¶è®¾å¤‡çŠ¶æ€æ£€æµ‹(åœ¨çº¿/ç¦»çº¿)
- WOLé­”æœ¯åŒ…å‘é€åŠŸèƒ½
- è®¾å¤‡Pingæµ‹è¯•åŠŸèƒ½
- ğŸ†• æ™ºèƒ½ä¸»æœºå/IPæ˜¾ç¤ºé€»è¾‘ï¼Œæ”¯æŒmDNSæ ¼å¼(.local, .lan)
- ğŸ†• è®¾å¤‡åœ°å€ç±»å‹è§†è§‰åŒºåˆ†(mDNSã€æ™®é€šä¸»æœºåã€IPåœ°å€)
- ğŸ†• CIDRæ ¼å¼IPåœ°å€æ™ºèƒ½å¤„ç†

### å®šæ—¶ä»»åŠ¡ç®¡ç†
- æ”¯æŒShellè„šæœ¬ä»»åŠ¡æ‰§è¡Œï¼Œå¸¦è¯­æ³•é«˜äº®ç¼–è¾‘å™¨
- æ”¯æŒCronè¡¨è¾¾å¼å’Œé—´éš”æ—¶é—´ä¸¤ç§è°ƒåº¦æ–¹å¼
- æ”¯æŒæ‰‹åŠ¨æ‰§è¡Œæ¨¡å¼ï¼ˆæ— è°ƒåº¦é…ç½®æ—¶ä»…æ”¯æŒæ‰‹åŠ¨æ‰§è¡Œï¼‰
- ä»»åŠ¡çš„å¯ç”¨/ç¦ç”¨äºŒçŠ¶æ€æ§åˆ¶
- è¯¦ç»†çš„ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€å’Œæ—¥å¿—æŸ¥çœ‹
- ä»»åŠ¡ç«‹å³æ‰§è¡ŒåŠŸèƒ½
- æ‰§è¡Œè®°å½•æœç´¢ã€æ’åºå’Œåˆ é™¤åŠŸèƒ½

### æ•°æ®å­˜å‚¨
- ä½¿ç”¨TinyDBä½œä¸ºåµŒå…¥å¼æ•°æ®åº“
- è‡ªå®šä¹‰YAMLStorageä»¥YAMLæ ¼å¼å­˜å‚¨æ•°æ®
- æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–å’Œç‰ˆæœ¬æ§åˆ¶

### Webç•Œé¢
- åŸºäºBootstrap 5çš„å®Œå…¨å“åº”å¼Webç•Œé¢
- æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ä¼˜åŒ–æ˜¾ç¤º
- CodeMirroré›†æˆçš„Shellè„šæœ¬è¯­æ³•é«˜äº®ç¼–è¾‘å™¨
- å®æ—¶çŠ¶æ€æ›´æ–°å’Œæ“ä½œåé¦ˆ
- å®Œæ•´çš„è®¾å¤‡å’Œä»»åŠ¡ç®¡ç†åŠŸèƒ½
- ä¼˜åŒ–çš„æ‰§è¡Œæ—¥å¿—æŸ¥çœ‹ç•Œé¢ï¼ˆ75%é¡µé¢é«˜åº¦ï¼Œç´§å‡‘å¸ƒå±€ï¼‰
- æ™ºèƒ½çš„æ‰§è¡Œè®°å½•æœç´¢å’Œæ‰¹é‡åˆ é™¤åŠŸèƒ½
- Content Security Policyå®‰å…¨ç­–ç•¥æ”¯æŒ
- ğŸ†• Unicodeæ¡Œé¢ç”µè„‘å›¾æ ‡favicon (ğŸ–¥ï¸)
- ğŸ†• ç²¾ç¡®çš„ç³»ç»ŸçŠ¶æ€ç›‘æ§ï¼ˆä¿®å¤ç£ç›˜ä½¿ç”¨ç‡æ˜¾ç¤ºï¼‰

## ç³»ç»Ÿè¦æ±‚

- Python 3.7+
- Linux/macOS/Windowsç³»ç»Ÿ
- ç½‘ç»œè®¿é—®æƒé™(å‘é€WOLåŒ…)

## å®‰è£…æ­¥éª¤

### æ–¹å¼ä¸€ï¼šDocker è¿è¡Œ (æ¨è)

#### ä½¿ç”¨ Docker ç›´æ¥è¿è¡Œ

**æ–¹å¼1: ä½¿ç”¨é¢„æ„å»ºé•œåƒ (æ¨è)**

```bash
# ä½¿ç”¨GitHub Container Registry
docker run -d \
  --name server-manager \
  --network host \
  --cap-add NET_RAW \
  -e SM_PORT=8000 \
  -e TZ=Asia/Shanghai \
  -v server-manager-data:/app/data \
  -v server-manager-logs:/app/logs \
  ghcr.io/username/server-manager:latest

# æˆ–ä½¿ç”¨Docker Hub
docker run -d \
  --name server-manager \
  --network host \
  --cap-add NET_RAW \
  -e SM_PORT=8000 \
  -e TZ=Asia/Shanghai \
  -v server-manager-data:/app/data \
  -v server-manager-logs:/app/logs \
  username/server-manager:latest
```

**æ–¹å¼2: æœ¬åœ°æ„å»ºé•œåƒ**

1. å…‹éš†é¡¹ç›®
```bash
git clone <é¡¹ç›®åœ°å€>
cd server_manager
```

2. æ„å»º Docker é•œåƒ
```bash
docker build -t server-manager .
```

3. è¿è¡Œ Docker å®¹å™¨ (æ¨èä½¿ç”¨ host ç½‘ç»œæ”¯æŒ WOL åŠŸèƒ½)
```bash
# åŸºæœ¬è¿è¡Œ
docker run -d \
  --name server-manager \
  --network host \
  --cap-add NET_RAW \
  -e SM_PORT=8000 \
  -e TZ=Asia/Shanghai \
  -v server-manager-data:/app/data \
  -v server-manager-logs:/app/logs \
  server-manager

# æˆ–è€…ä½¿ç”¨ç«¯å£æ˜ å°„æ¨¡å¼ (WOL åŠŸèƒ½å¯èƒ½å—é™)
docker run -d \
  --name server-manager \
  -p 8000:8000 \
  -e SM_PORT=8000 \
  -e TZ=Asia/Shanghai \
  -v server-manager-data:/app/data \
  -v server-manager-logs:/app/logs \
  server-manager
```

4. è®¿é—®åº”ç”¨
- Webç•Œé¢: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs

5. å®¹å™¨ç®¡ç†å‘½ä»¤
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps

# æŸ¥çœ‹æ—¥å¿—
docker logs -f server-manager

# åœæ­¢å®¹å™¨
docker stop server-manager

# åˆ é™¤å®¹å™¨
docker rm server-manager

# åˆ é™¤é•œåƒ
docker rmi server-manager
```

#### ä½¿ç”¨ Docker Compose è¿è¡Œ

1. å…‹éš†é¡¹ç›®
```bash
git clone <é¡¹ç›®åœ°å€>
cd server_manager
```

2. é…ç½®ç¯å¢ƒå˜é‡ (å¯é€‰)
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®
```

3. ä½¿ç”¨ docker-compose å¯åŠ¨
```bash
docker-compose up -d
```

4. è®¿é—®åº”ç”¨
- Webç•Œé¢: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs

### æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ

1. å…‹éš†é¡¹ç›®æˆ–ä¸‹è½½ä»£ç 
```bash
git clone <é¡¹ç›®åœ°å€>
cd server_manager
```

2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ(æ¨è)
```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# venv\Scripts\activate   # Windows
```

3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

4. å¯åŠ¨åº”ç”¨
```bash
python main.py
```

## ä½¿ç”¨è¯´æ˜

### åŸºç¡€ä½¿ç”¨

1. å¯åŠ¨åº”ç”¨åè®¿é—® http://127.0.0.1:8000
2. åœ¨"WOLè®¾å¤‡"é¡µé¢æ·»åŠ éœ€è¦ç®¡ç†çš„è®¾å¤‡
3. åœ¨"å®šæ—¶ä»»åŠ¡"é¡µé¢åˆ›å»ºè‡ªåŠ¨åŒ–ä»»åŠ¡ï¼š
   - ä½¿ç”¨è¯­æ³•é«˜äº®ç¼–è¾‘å™¨ç¼–å†™Shellå‘½ä»¤
   - è®¾ç½®Cronè¡¨è¾¾å¼æˆ–é—´éš”æ—¶é—´è¿›è¡Œå®šæ—¶è°ƒåº¦
   - æˆ–ç•™ç©ºè°ƒåº¦é…ç½®åˆ›å»ºä»…æ‰‹åŠ¨æ‰§è¡Œçš„ä»»åŠ¡
4. åœ¨"æ‰§è¡Œè®°å½•"é¡µé¢æŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œå†å²ï¼š
   - ä½¿ç”¨æœç´¢åŠŸèƒ½ç­›é€‰ç‰¹å®šè®°å½•
   - ç‚¹å‡»"åˆ é™¤ç»“æœ"åˆ é™¤æœç´¢åˆ°çš„è®°å½•
   - ç‚¹å‡»"æ¸…ç©ºæ‰€æœ‰"åˆ é™¤å…¨éƒ¨æ‰§è¡Œè®°å½•
5. åœ¨"ç³»ç»ŸçŠ¶æ€"é¡µé¢ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

### Docker é…ç½®é€‰é¡¹

#### ç¯å¢ƒå˜é‡é…ç½®

```bash
# åŸºç¡€é…ç½®
SM_PORT=8000                    # WebæœåŠ¡ç«¯å£
SM_LOG_LEVEL=INFO              # æ—¥å¿—çº§åˆ«
SM_ENV=production              # è¿è¡Œç¯å¢ƒ

# æ—¶åŒºé…ç½®
TZ=Asia/Shanghai               # å®¹å™¨æ—¶åŒº
SM_TIMEZONE=Asia/Shanghai      # åº”ç”¨æ—¶åŒº

# WOLé…ç½®
SM_WOL_PORT=9                  # WOLç«¯å£
SM_WOL_TIMEOUT=3               # WOLè¶…æ—¶æ—¶é—´

# ä»»åŠ¡é…ç½®
SM_TASK_TIMEOUT=300            # ä»»åŠ¡è¶…æ—¶æ—¶é—´(ç§’)
SM_TASK_MAX_RETRIES=0          # ä»»åŠ¡æœ€å¤§é‡è¯•æ¬¡æ•°
SM_LOG_RETENTION_DAYS=30       # æ—¥å¿—ä¿ç•™å¤©æ•°
```

#### Dockerå‘½ä»¤ç¤ºä¾‹

```bash
# æ„å»ºé•œåƒ
docker build -t server-manager .

# è¿è¡Œå®¹å™¨ (ä½¿ç”¨hostç½‘ç»œæ”¯æŒWOL)
docker run -d \
  --name server-manager \
  --network host \
  --cap-add NET_RAW \
  -e SM_PORT=8000 \
  -e TZ=Asia/Shanghai \
  -v server-manager-data:/app/data \
  -v server-manager-logs:/app/logs \
  server-manager

# æŸ¥çœ‹æ—¥å¿—
docker logs -f server-manager

# åœæ­¢å®¹å™¨
docker stop server-manager
```

### å‘½ä»¤è¡Œå‚æ•° (ç›´æ¥è¿è¡Œ)

```bash
# æŸ¥çœ‹å¸®åŠ©
python main.py --help

# æŒ‡å®šç›‘å¬åœ°å€å’Œç«¯å£
python main.py --host 0.0.0.0 --port 8080

# æŒ‡å®šæ•°æ®ç›®å½•
python main.py --data-dir ./my_data

# å¯ç”¨è°ƒè¯•æ¨¡å¼
python main.py --log-level DEBUG --reload
```

## é…ç½®è¯´æ˜

### WOLè®¾å¤‡é…ç½®
- **è®¾å¤‡åç§°**: è®¾å¤‡çš„å‹å¥½åç§°
- **ä¸»æœºå**: è®¾å¤‡çš„ä¸»æœºå(å¯é€‰ï¼Œæ”¯æŒmDNSæ ¼å¼å¦‚.local/.lan)
- **IPåœ°å€**: è®¾å¤‡çš„IPåœ°å€æˆ–CIDRæ ¼å¼(å¯é€‰)
- **MACåœ°å€**: è®¾å¤‡çš„MACåœ°å€(å¿…éœ€)
- **æè¿°**: è®¾å¤‡æè¿°ä¿¡æ¯(å¯é€‰)

#### åœ°å€ç±»å‹è¯†åˆ«
- **mDNSä¸»æœºå** (`device.local`, `host.lan`): ç»¿è‰²æ˜¾ç¤º + å¹¿æ’­å›¾æ ‡ ğŸ“¡
- **æ™®é€šä¸»æœºå** (`myserver`, `desktop`): è“è‰²æ˜¾ç¤º + ç½‘ç»œå›¾æ ‡ ğŸ–¥ï¸  
- **IPåœ°å€** (`192.168.1.100`): ç´«è‰²æ˜¾ç¤º + è·¯ç”±å™¨å›¾æ ‡ ğŸ”Œ
- **CIDRæ ¼å¼** (`192.168.1.0/24`): è‡ªåŠ¨æå–IPåœ°å€éƒ¨åˆ†æ˜¾ç¤º

### å®šæ—¶ä»»åŠ¡é…ç½®

#### Shellä»»åŠ¡
```bash
# ç¤ºä¾‹: æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œç³»ç»Ÿå¤‡ä»½
å‘½ä»¤: /usr/local/bin/backup.sh
Cronè¡¨è¾¾å¼: 0 0 2 * * *

# ç¤ºä¾‹: ä»…æ‰‹åŠ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆä¸å¡«å†™è°ƒåº¦é…ç½®ï¼‰
å‘½ä»¤: echo "æ‰‹åŠ¨æ‰§è¡Œçš„ä»»åŠ¡"
Cronè¡¨è¾¾å¼: (ç•™ç©º)
é—´éš”ç§’æ•°: (ç•™ç©º)
```

#### Shellå‘½ä»¤ç¼–è¾‘å™¨
- æ”¯æŒè¯­æ³•é«˜äº®æ˜¾ç¤º
- è¡Œå·æ˜¾ç¤º
- è‡ªåŠ¨ç¼©è¿›å’Œä»£ç è¡¥å…¨
- æ”¯æŒå¤šè¡ŒShellè„šæœ¬ç¼–å†™

#### Cronè¡¨è¾¾å¼æ ¼å¼
```
æ ¼å¼: ç§’ åˆ† æ—¶ æ—¥ æœˆ å‘¨
ç¤ºä¾‹:
0 0 * * * *     # æ¯å°æ—¶
0 */5 * * * *   # æ¯5åˆ†é’Ÿ
0 0 2 * * *     # æ¯å¤©2ç‚¹
0 0 0 * * 1     # æ¯å‘¨ä¸€0ç‚¹
0 0 0 1 * *     # æ¯æœˆ1å·0ç‚¹
```

## ç›®å½•ç»“æ„

```
server_manager/
â”œâ”€â”€ app/                    # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api.py             # FastAPIè·¯ç”±å’ŒAPI
â”‚   â”œâ”€â”€ database.py        # æ•°æ®åº“ç®¡ç†
â”‚   â”œâ”€â”€ models.py          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ scheduler.py       # ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â”œâ”€â”€ storage.py         # å­˜å‚¨åç«¯
â”‚   â””â”€â”€ wol.py            # WOLåŠŸèƒ½æ¨¡å—
â”œâ”€â”€ static/                # é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ css/              # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ bootstrap.min.css        # Bootstrapæ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ bootstrap-icons.css      # Bootstrapå›¾æ ‡
â”‚   â”‚   â””â”€â”€ codemirror/              # CodeMirrorç¼–è¾‘å™¨æ ·å¼
â”‚   â””â”€â”€ js/               # JavaScriptæ–‡ä»¶
â”‚       â”œâ”€â”€ bootstrap.bundle.min.js  # Bootstrapè„šæœ¬
â”‚       â”œâ”€â”€ codemirror/              # CodeMirrorç¼–è¾‘å™¨è„šæœ¬
â”‚       â””â”€â”€ dashboard.js             # å‰ç«¯ä¸»è¦é€»è¾‘
â”œâ”€â”€ templates/             # HTMLæ¨¡æ¿
â”‚   â””â”€â”€ dashboard.html     # ä¸»ç•Œé¢æ¨¡æ¿
â”œâ”€â”€ data/                  # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ devices.yaml       # è®¾å¤‡æ•°æ®
â”‚   â”œâ”€â”€ tasks.yaml         # ä»»åŠ¡æ•°æ®
â”‚   â”œâ”€â”€ executions.yaml    # æ‰§è¡Œè®°å½•
â”‚   â””â”€â”€ counters.yaml      # è®¡æ•°å™¨
â”œâ”€â”€ logs/                  # æ—¥å¿—ç›®å½•
â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ main.py               # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
```

## APIæ–‡æ¡£

å¯åŠ¨åº”ç”¨åï¼Œå¯è®¿é—®ä»¥ä¸‹åœ°å€æŸ¥çœ‹APIæ–‡æ¡£:
- Swagger UI: http://127.0.0.1:8000/docs
- ReDoc: http://127.0.0.1:8000/redoc

### ä¸»è¦APIç«¯ç‚¹

#### WOLè®¾å¤‡ç®¡ç†
- `GET /api/devices` - è·å–æ‰€æœ‰è®¾å¤‡
- `POST /api/devices` - åˆ›å»ºè®¾å¤‡
- `GET /api/devices/{id}` - è·å–æŒ‡å®šè®¾å¤‡
- `PUT /api/devices/{id}` - æ›´æ–°è®¾å¤‡
- `DELETE /api/devices/{id}` - åˆ é™¤è®¾å¤‡
- `POST /api/wol/wake` - å‘é€WOLåŒ…
- `POST /api/wol/ping/{id}` - Pingè®¾å¤‡

#### å®šæ—¶ä»»åŠ¡ç®¡ç†
- `GET /api/tasks` - è·å–æ‰€æœ‰ä»»åŠ¡
- `POST /api/tasks` - åˆ›å»ºä»»åŠ¡
- `GET /api/tasks/{id}` - è·å–æŒ‡å®šä»»åŠ¡
- `PUT /api/tasks/{id}` - æ›´æ–°ä»»åŠ¡
- `DELETE /api/tasks/{id}` - åˆ é™¤ä»»åŠ¡
- `POST /api/tasks/{id}/execute` - ç«‹å³æ‰§è¡Œä»»åŠ¡
- `POST /api/tasks/{id}/toggle` - å¯ç”¨/ç¦ç”¨ä»»åŠ¡

#### æ‰§è¡Œè®°å½•
- `GET /api/executions` - è·å–æ‰€æœ‰æ‰§è¡Œè®°å½•
- `GET /api/tasks/{id}/executions` - è·å–ä»»åŠ¡æ‰§è¡Œè®°å½•

#### ç³»ç»Ÿç®¡ç†
- `GET /api/status` - è·å–ç³»ç»ŸçŠ¶æ€
- `POST /api/maintenance/cleanup` - æ¸…ç†æ—§æ—¥å¿—

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **WOLåŒ…å‘é€å¤±è´¥**
   - æ£€æŸ¥MACåœ°å€æ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ç½‘ç»œæƒé™å…è®¸å‘é€å¹¿æ’­åŒ…
   - æ£€æŸ¥ç›®æ ‡è®¾å¤‡æ˜¯å¦æ”¯æŒWOLåŠŸèƒ½

2. **ä»»åŠ¡æ‰§è¡Œå¤±è´¥**
   - æ£€æŸ¥å‘½ä»¤è·¯å¾„å’Œæƒé™
   - æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
   - ç¡®è®¤è¶…æ—¶æ—¶é—´è®¾ç½®åˆç†

3. **æ— æ³•è®¿é—®Webç•Œé¢**
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤ç«¯å£æ²¡æœ‰è¢«å…¶ä»–ç¨‹åºå ç”¨
   - æŸ¥çœ‹åº”ç”¨å¯åŠ¨æ—¥å¿—

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/server_manager.log

# æŸ¥çœ‹ç‰¹å®šçº§åˆ«æ—¥å¿—
grep "ERROR" logs/server_manager.log
```

## å¼€å‘è¯´æ˜

### å¼€å‘ç¯å¢ƒæ­å»º

1. å®‰è£…å¼€å‘ä¾èµ–
```bash
pip install -r requirements.txt
```

2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
python main.py --reload --log-level DEBUG
```

### ä»£ç ç»“æ„è¯´æ˜

- `app/models.py`: å®šä¹‰æ‰€æœ‰æ•°æ®æ¨¡å‹
- `app/database.py`: æ•°æ®åº“æ“ä½œæ¥å£
- `app/wol.py`: WOLåŠŸèƒ½å®ç°
- `app/scheduler.py`: ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œ
- `app/api.py`: Web APIè·¯ç”±
- `app/storage.py`: è‡ªå®šä¹‰YAMLå­˜å‚¨

### CI/CD æµç¨‹

é¡¹ç›®é…ç½®äº†å®Œæ•´çš„GitHub Actionså·¥ä½œæµï¼š

#### ğŸ”„ è‡ªåŠ¨åŒ–æµç¨‹
- **CIæ£€æŸ¥** (`ci.yml`): ä»£ç è´¨é‡æ£€æŸ¥ã€å®‰å…¨æ‰«æã€å¤šPythonç‰ˆæœ¬æµ‹è¯•
- **Dockeræ„å»º** (`docker-build.yml`): è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒDockeré•œåƒ
- **å‘å¸ƒæµç¨‹** (`release.yml`): Releaseæ—¶è‡ªåŠ¨å‘å¸ƒå¹¶ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶

#### ğŸ—ï¸ æ„å»ºå’Œå‘å¸ƒ
```bash
# è§¦å‘Dockeré•œåƒæ„å»ºå’Œå‘å¸ƒ
git tag -a v1.2.1 -m "Release version 1.2.1"
git push origin v1.2.1

# åˆ›å»ºGitHub Releaseä¼šè‡ªåŠ¨ï¼š
# 1. æ„å»ºå¤šæ¶æ„Dockeré•œåƒ (amd64, arm64)
# 2. å‘å¸ƒåˆ°GitHub Container Registryå’ŒDocker Hub
# 3. ç”Ÿæˆdocker-compose.ymlå’Œéƒ¨ç½²è„šæœ¬
```

#### ğŸ“¦ é•œåƒä»“åº“
- **GitHub Container Registry**: `ghcr.io/username/server-manager`
- **Docker Hub**: `username/server-manager`

#### ğŸ”§ å¼€å‘å·¥ä½œæµ
1. æäº¤PRè§¦å‘CIæ£€æŸ¥
2. åˆå¹¶åˆ°mainåˆ†æ”¯æ„å»ºlatesté•œåƒ  
3. åˆ›å»ºReleaseæ ‡ç­¾å‘å¸ƒç¨³å®šç‰ˆæœ¬
4. è‡ªåŠ¨ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶å’Œè„šæœ¬

æ›´å¤šè¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š[Docker Hub è‡ªåŠ¨å‘å¸ƒè®¾ç½®æŒ‡å—](DOCKER_HUB_SETUP.md)

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v1.2.1 (2025-09-07) ğŸ†•
**Bugä¿®å¤ä¸åŠŸèƒ½å¢å¼ºï¼š**
- ğŸ–¥ï¸ ç½‘ç«™faviconæ›´æ–°ä¸ºUnicodeæ¡Œé¢ç”µè„‘å›¾æ ‡ (ğŸ–¥ï¸)
- ğŸ“Š ä¿®å¤ç³»ç»ŸçŠ¶æ€ä¸­ç£ç›˜ä½¿ç”¨ç‡è®¡ç®—é”™è¯¯
- ğŸŒ WOLè®¾å¤‡æ˜¾ç¤ºé€»è¾‘ä¼˜åŒ–ï¼Œæ”¯æŒmDNSæ ¼å¼(.local/.lan)
- ğŸ¨ è®¾å¤‡åœ°å€ç±»å‹æ™ºèƒ½è§†è§‰åŒºåˆ†ï¼ˆé¢œè‰²+å›¾æ ‡ï¼‰
- ğŸ”§ CIDRæ ¼å¼IPåœ°å€æ™ºèƒ½å¤„ç†

**æŠ€æœ¯æ”¹è¿›ï¼š**
- æ•°æ®æ¨¡å‹å¢å¼ºï¼Œæ–°å¢hostnameéªŒè¯å™¨å’Œæ˜¾ç¤ºæ–¹æ³•
- å‰ç«¯äº¤äº’ä¼˜åŒ–ï¼Œæå‡ç”¨æˆ·ç•Œé¢ç›´è§‚æ€§
- APIå¢å¼ºï¼Œæ–°å¢display_addresså’Œis_mdnså­—æ®µ

### v1.2.0 (2025-09-06)
**æ–°åŠŸèƒ½ï¼š**
- ğŸ¨ æ·»åŠ CodeMirrorä»£ç ç¼–è¾‘å™¨ï¼Œæ”¯æŒShellè„šæœ¬è¯­æ³•é«˜äº®
- ğŸ“± å®Œæ•´çš„ç§»åŠ¨ç«¯å“åº”å¼æ”¯æŒ
- ğŸ”§ æ”¯æŒæ‰‹åŠ¨æ‰§è¡Œæ¨¡å¼ï¼ˆæ— è°ƒåº¦é…ç½®çš„ä»»åŠ¡ï¼‰
- ğŸ” æ‰§è¡Œè®°å½•æ™ºèƒ½æœç´¢å’Œæ‰¹é‡åˆ é™¤åŠŸèƒ½
- ğŸ›¡ï¸ Content Security Policyå®‰å…¨ç­–ç•¥æ”¯æŒ

**ç•Œé¢ä¼˜åŒ–ï¼š**
- ä¼˜åŒ–æ‰§è¡Œæ—¥å¿—æŸ¥çœ‹é¡µé¢ï¼Œ75%é¡µé¢é«˜åº¦ï¼Œç´§å‡‘å¸ƒå±€
- æ”¹è¿›ç§»åŠ¨ç«¯å¯¼èˆªä½“éªŒ
- ä¿®å¤CodeMirrorç¼–è¾‘å™¨è¡Œå·é‡å é—®é¢˜
- æ™ºèƒ½åˆ é™¤æŒ‰é’®æ–‡æœ¬ï¼ˆæ ¹æ®æœç´¢çŠ¶æ€æ˜¾ç¤º"åˆ é™¤ç»“æœ"æˆ–"æ¸…ç©ºæ‰€æœ‰"ï¼‰

**æŠ€æœ¯æ”¹è¿›ï¼š**
- æ‰€æœ‰é™æ€èµ„æºæœ¬åœ°åŒ–ï¼Œä¸å†ä¾èµ–CDN
- ç®€åŒ–ä»»åŠ¡çŠ¶æ€ä¸ºå¯ç”¨/ç¦ç”¨ä¸¤çŠ¶æ€
- ä¼˜åŒ–ä»»åŠ¡è°ƒåº¦é€»è¾‘
- ç§»é™¤å†…è”äº‹ä»¶å¤„ç†å™¨ï¼Œæå‡å®‰å…¨æ€§

### v1.1.0
- åŸºç¡€WOLè®¾å¤‡ç®¡ç†åŠŸèƒ½
- å®šæ—¶ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ
- æ‰§è¡Œè®°å½•æŸ¥çœ‹
- Dockerå®¹å™¨åŒ–æ”¯æŒ

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ

## è´¡çŒ®

æ¬¢è¿æäº¤BugæŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚ï¼